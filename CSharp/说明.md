
## 小程序开发思路

我想做一个windows 程序，选中文本，按下快捷键，调用open ai兼容的api 自动翻译所选文本（选中文本为汉语时翻译为英语，为英语时翻译为汉语）使用那种语言开发比较好，配置文件通过ui界面写入到配置文件中。快捷键可以自定义设置。ai的prompt需要可以通过ui自定义设置。给出具体代码

## 桌面AI助手
写一个基于 WPF 开发的 Windows 桌面应用程序，主要用于文本的 AI 处理，具有以下核心功能：

### 热键功能：
- 支持自定义全局热键
- 可以设置多组不同的热键和对应的 AI 处理指令
- 在任何应用程序中选中文本后，按下设定的热键即可触发处理

### 界面设计：
- 主窗口：显示程序运行状态，提供设置入口
- 设置窗口：管理热键和 AI 指令的配置界面
- 处理结果窗口：双列显示原文和处理后的文本

### 配置管理：
- 支持 JSON 格式保存配置到独立文件
- 支持动态加载和保存配置
- 可以随时添加、修改、删除热键配置

### 文本处理：
- 支持获取当前选中的文本
- 根据预设的 AI 指令处理文本
- 在独立窗口中展示处理结果
- AI指令处理后的文本自动复制到剪切板，用户按下ctrl+v可粘贴AI处理后的文本

### 程序结构：
- MainWindow：主程序窗口
- SettingsWindow：配置管理窗口
- ProcessingWindow：结果显示窗口
- ConfigurationManager：配置文件管理
- HotkeyManager：热键注册和处理
- HotkeySetting：配置数据模型

### 使用流程：
- 启动程序后，通过"Settings"菜单配置热键和对应的 AI 处理指令

- 在任何程序中选中要处理的文本

- 按下配置好的热键

- 程序会弹出新窗口，同时显示原文和 AI 处理后的结果



### 设计注重：

- 界面分离：设置界面和结果显示界面相互独立
- 配置持久化：所有设置保存在配置文件中
- 扩展性：支持配置多组热键和处理指令
- 错误处理：用户友好的错误提示
- 性能优化：处理速度和资源占用
- 易用性：全局热键支持，无需手动复制粘贴
- 程序中的 AI 处理部分（ProcessWithAI 方法）需要根据实际需求实现，可以对接不同的 AI 服务（如 OpenAI API 等）来处理文本。